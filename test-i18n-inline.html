<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON i18n ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ - Codespaceså¯¾å¿œ</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .content {
            padding: 30px;
        }
        
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        
        .test-section h2 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        select {
            padding: 12px 20px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            background: white;
        }
        
        .output {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            min-height: 100px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .result {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        
        .error {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        
        .info {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: #667eea;
            color: white;
        }
        
        tr:hover {
            background: #f5f5f5;
        }
        
        .json-display {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ JSON i18n ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ</h1>
            <p>GitHub Codespaceså¯¾å¿œ - ã‚µãƒ¼ãƒãƒ¼ä¸è¦</p>
        </div>

        <div class="content">
            <div class="info">
                â„¹ï¸ ã“ã®ãƒšãƒ¼ã‚¸ã¯å…¨ã¦ã®JSONã‚’åŸ‹ã‚è¾¼ã‚“ã§ã„ã‚‹ãŸã‚ã€ã‚µãƒ¼ãƒãƒ¼ãªã—ã§å‹•ä½œã—ã¾ã™ã€‚<br>
                VS Codeã§ç›´æ¥ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ã€ãƒ©ã‚¤ãƒ–ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ç¢ºèªã§ãã¾ã™ã€‚
            </div>

            <div class="test-section">
                <h2>ğŸ§ª åŸºæœ¬ãƒ†ã‚¹ãƒˆ</h2>
                <div class="controls">
                    <select id="locale-selector">
                        <option value="en">English ğŸ‡¬ğŸ‡§</option>
                        <option value="ja">æ—¥æœ¬èª ğŸ‡¯ğŸ‡µ</option>
                    </select>
                    <button onclick="testBasicTranslation()">ç¿»è¨³ã‚’ãƒ†ã‚¹ãƒˆ</button>
                    <button onclick="testWithParams()">ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ããƒ†ã‚¹ãƒˆ</button>
                    <button onclick="testAutoDetect()">è‡ªå‹•æ¤œå‡ºãƒ†ã‚¹ãƒˆ</button>
                </div>
                <div id="basic-output" class="output">çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™...</div>
            </div>

            <div class="test-section">
                <h2>ğŸ“Š å…¨ç¿»è¨³ã‚­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ</h2>
                <button onclick="testAllKeys()">å…¨ã¦ã®ã‚­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆ</button>
                <div id="all-keys-output" class="output"></div>
            </div>

            <div class="test-section">
                <h2>ğŸ” JSONæ§‹é€ ã®ç¢ºèª</h2>
                <div class="controls">
                    <button onclick="showEnglishJSON()">è‹±èªJSONã‚’è¡¨ç¤º</button>
                    <button onclick="showJapaneseJSON()">æ—¥æœ¬èªJSONã‚’è¡¨ç¤º</button>
                    <button onclick="compareJSONs()">æ§‹é€ ã‚’æ¯”è¼ƒ</button>
                </div>
                <div id="json-output" class="json-display"></div>
            </div>

            <div class="test-section">
                <h2>âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
                <button onclick="validateTranslations()">ç¿»è¨³ã‚’ãƒãƒªãƒ‡ãƒ¼ãƒˆ</button>
                <div id="validation-output" class="output"></div>
            </div>
        </div>
    </div>

    <script>
        // è‹±èªç¿»è¨³ï¼ˆen.jsonã‹ã‚‰åŸ‹ã‚è¾¼ã¿ï¼‰
        const enTranslations = {
            "html5Qrcode": {
                "codeParseError": "QR code parse error, error = {error}",
                "errorGettingUserMedia": "Error getting userMedia, error = {error}",
                "onlyDeviceSupportedError": "The device doesn't support navigator.mediaDevices, only supported cameraIdOrConfig in this case is deviceId parameter (string).",
                "cameraStreamingNotSupported": "Camera streaming not supported by the browser.",
                "unableToQuerySupportedDevices": "Unable to query supported devices, unknown error.",
                "insecureContextCameraQueryError": "Camera access is only supported in secure context like https or localhost.",
                "scannerPaused": "Scanner paused"
            },
            "html5QrcodeScanner": {
                "scanningStatus": "Scanning",
                "idleStatus": "Idle",
                "errorStatus": "Error",
                "permissionStatus": "Permission",
                "noCameraFoundErrorStatus": "No Cameras",
                "lastMatch": "Last Match: {decodedText}",
                "codeScannerTitle": "Code Scanner",
                "cameraPermissionTitle": "Request Camera Permissions",
                "cameraPermissionRequesting": "Requesting camera permissions...",
                "noCameraFound": "No camera found",
                "scanButtonStopScanningText": "Stop Scanning",
                "scanButtonStartScanningText": "Start Scanning",
                "torchOnButton": "Switch On Torch",
                "torchOffButton": "Switch Off Torch",
                "torchOnFailedMessage": "Failed to turn on torch",
                "torchOffFailedMessage": "Failed to turn off torch",
                "scanButtonScanningStarting": "Launching Camera...",
                "textIfCameraScanSelected": "Scan an Image File",
                "textIfFileScanSelected": "Scan using camera directly",
                "selectCamera": "Select Camera",
                "fileSelectionChooseImage": "Choose Image",
                "fileSelectionChooseAnother": "Choose Another",
                "fileSelectionNoImageSelected": "No image chosen",
                "anonymousCameraPrefix": "Anonymous Camera",
                "dragAndDropMessage": "Or drop an image to scan",
                "dragAndDropMessageOnlyImages": "Or drop an image to scan (other files not supported)",
                "zoom": "zoom",
                "loadingImage": "Loading image...",
                "cameraScanAltText": "Camera based scan",
                "fileScanAltText": "File based scan"
            },
            "libraryInfo": {
                "poweredBy": "Powered by ",
                "reportIssues": "Report issues"
            }
        };

        // æ—¥æœ¬èªç¿»è¨³ï¼ˆja.jsonã‹ã‚‰åŸ‹ã‚è¾¼ã¿ï¼‰
        const jaTranslations = {
            "html5Qrcode": {
                "codeParseError": "QRã‚³ãƒ¼ãƒ‰ã®è§£æã‚¨ãƒ©ãƒ¼ã€ã‚¨ãƒ©ãƒ¼ = {error}",
                "errorGettingUserMedia": "userMediaã®å–å¾—ã‚¨ãƒ©ãƒ¼ã€ã‚¨ãƒ©ãƒ¼ = {error}",
                "onlyDeviceSupportedError": "ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã¯navigator.mediaDevicesã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚ã“ã®å ´åˆã€ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹cameraIdOrConfigã¯deviceIdãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆæ–‡å­—åˆ—ï¼‰ã®ã¿ã§ã™ã€‚",
                "cameraStreamingNotSupported": "ãƒ–ãƒ©ã‚¦ã‚¶ãŒã‚«ãƒ¡ãƒ©ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚",
                "unableToQuerySupportedDevices": "ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã‚’ç…§ä¼šã§ãã¾ã›ã‚“ã€ä¸æ˜ãªã‚¨ãƒ©ãƒ¼ã€‚",
                "insecureContextCameraQueryError": "ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹ã¯ã€httpsã¾ãŸã¯localhostã®ã‚ˆã†ãªå®‰å…¨ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ã®ã¿ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚",
                "scannerPaused": "ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ãŒä¸€æ™‚åœæ­¢ã—ã¾ã—ãŸ"
            },
            "html5QrcodeScanner": {
                "scanningStatus": "ã‚¹ã‚­ãƒ£ãƒ³ä¸­",
                "idleStatus": "å¾…æ©Ÿä¸­",
                "errorStatus": "ã‚¨ãƒ©ãƒ¼",
                "permissionStatus": "è¨±å¯",
                "noCameraFoundErrorStatus": "ã‚«ãƒ¡ãƒ©ãªã—",
                "lastMatch": "æœ€å¾Œã®ãƒãƒƒãƒ: {decodedText}",
                "codeScannerTitle": "ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒŠãƒ¼",
                "cameraPermissionTitle": "ã‚«ãƒ¡ãƒ©ã®è¨±å¯ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ",
                "cameraPermissionRequesting": "ã‚«ãƒ¡ãƒ©ã®è¨±å¯ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­...",
                "noCameraFound": "ã‚«ãƒ¡ãƒ©ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
                "scanButtonStopScanningText": "ã‚¹ã‚­ãƒ£ãƒ³ã‚’åœæ­¢",
                "scanButtonStartScanningText": "ã‚¹ã‚­ãƒ£ãƒ³ã‚’é–‹å§‹",
                "torchOnButton": "ãƒ©ã‚¤ãƒˆã‚’ã‚ªãƒ³",
                "torchOffButton": "ãƒ©ã‚¤ãƒˆã‚’ã‚ªãƒ•",
                "torchOnFailedMessage": "ãƒ©ã‚¤ãƒˆã®ã‚ªãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ",
                "torchOffFailedMessage": "ãƒ©ã‚¤ãƒˆã®ã‚ªãƒ•ã«å¤±æ•—ã—ã¾ã—ãŸ",
                "scanButtonScanningStarting": "ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ä¸­...",
                "textIfCameraScanSelected": "ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³",
                "textIfFileScanSelected": "ã‚«ãƒ¡ãƒ©ã‚’ç›´æ¥ä½¿ç”¨ã—ã¦ã‚¹ã‚­ãƒ£ãƒ³",
                "selectCamera": "ã‚«ãƒ¡ãƒ©ã‚’é¸æŠ",
                "fileSelectionChooseImage": "ç”»åƒã‚’é¸æŠ",
                "fileSelectionChooseAnother": "åˆ¥ã®ç”»åƒã‚’é¸æŠ",
                "fileSelectionNoImageSelected": "ç”»åƒãŒé¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“",
                "anonymousCameraPrefix": "åŒ¿åã‚«ãƒ¡ãƒ©",
                "dragAndDropMessage": "ã¾ãŸã¯ç”»åƒã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦ã‚¹ã‚­ãƒ£ãƒ³",
                "dragAndDropMessageOnlyImages": "ã¾ãŸã¯ç”»åƒã‚’ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆãã®ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼‰",
                "zoom": "ã‚ºãƒ¼ãƒ ",
                "loadingImage": "ç”»åƒã‚’èª­ã¿è¾¼ã¿ä¸­...",
                "cameraScanAltText": "ã‚«ãƒ¡ãƒ©ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚­ãƒ£ãƒ³",
                "fileScanAltText": "ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚­ãƒ£ãƒ³"
            },
            "libraryInfo": {
                "poweredBy": "æä¾›: ",
                "reportIssues": "å•é¡Œã‚’å ±å‘Š"
            }
        };

        // ç°¡æ˜“i18nãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
        let currentTranslations = enTranslations;

        function setLocale(locale) {
            currentTranslations = locale === 'ja' ? jaTranslations : enTranslations;
            return currentTranslations;
        }

        function translate(key, params = {}) {
            const keys = key.split('.');
            let value = currentTranslations;
            
            for (const k of keys) {
                if (value && typeof value === 'object' && k in value) {
                    value = value[k];
                } else {
                    return `[Missing: ${key}]`;
                }
            }
            
            if (typeof value !== 'string') {
                return `[Not a string: ${key}]`;
            }
            
            // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç½®æ›
            return value.replace(/\{(\w+)\}/g, (match, param) => {
                return params.hasOwnProperty(param) ? params[param] : match;
            });
        }

        // ãƒ†ã‚¹ãƒˆé–¢æ•°
        function testBasicTranslation() {
            const locale = document.getElementById('locale-selector').value;
            setLocale(locale);
            
            const output = document.getElementById('basic-output');
            output.innerHTML = `
<span style="color: #4caf50">âœ… ãƒ­ã‚±ãƒ¼ãƒ«è¨­å®š: ${locale}</span>

ãƒ†ã‚¹ãƒˆçµæœ:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. ã‚¹ã‚­ãƒ£ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:
   ${translate('html5QrcodeScanner.scanningStatus')}

2. ã‚¢ã‚¤ãƒ‰ãƒ«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:
   ${translate('html5QrcodeScanner.idleStatus')}

3. ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ:
   - é–‹å§‹: ${translate('html5QrcodeScanner.scanButtonStartScanningText')}
   - åœæ­¢: ${translate('html5QrcodeScanner.scanButtonStopScanningText')}

4. ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã‚¿ã‚¤ãƒˆãƒ«:
   ${translate('html5QrcodeScanner.codeScannerTitle')}

5. ã‚«ãƒ¡ãƒ©é¸æŠ:
   ${translate('html5QrcodeScanner.selectCamera')}
            `;
        }

        function testWithParams() {
            const locale = document.getElementById('locale-selector').value;
            setLocale(locale);
            
            const output = document.getElementById('basic-output');
            output.innerHTML = `
<span style="color: #4caf50">âœ… ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãç¿»è¨³ãƒ†ã‚¹ãƒˆ</span>

1. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:
   ${translate('html5Qrcode.codeParseError', { error: 'ç„¡åŠ¹ãªå½¢å¼' })}

2. æœ€å¾Œã®ãƒãƒƒãƒ:
   ${translate('html5QrcodeScanner.lastMatch', { decodedText: 'https://example.com' })}

3. userMediaã‚¨ãƒ©ãƒ¼:
   ${translate('html5Qrcode.errorGettingUserMedia', { error: 'Permission denied' })}
            `;
        }

        function testAutoDetect() {
            const browserLang = navigator.language || navigator.userLanguage;
            const langCode = browserLang.split('-')[0];
            const detected = langCode === 'ja' ? 'ja' : 'en';
            
            setLocale(detected);
            document.getElementById('locale-selector').value = detected;
            
            const output = document.getElementById('basic-output');
            output.innerHTML = `
<span style="color: #4caf50">âœ… è‡ªå‹•æ¤œå‡ºãƒ†ã‚¹ãƒˆ</span>

ãƒ–ãƒ©ã‚¦ã‚¶è¨€èª: ${browserLang}
æ¤œå‡ºã•ã‚ŒãŸãƒ­ã‚±ãƒ¼ãƒ«: ${detected}

ãƒ†ã‚¹ãƒˆç¿»è¨³:
${translate('html5QrcodeScanner.scanningStatus')}
${translate('html5QrcodeScanner.codeScannerTitle')}
            `;
        }

        function testAllKeys() {
            const locale = document.getElementById('locale-selector').value;
            setLocale(locale);
            
            const output = document.getElementById('all-keys-output');
            let result = `<span style="color: #4caf50">âœ… å…¨ã‚­ãƒ¼ãƒ†ã‚¹ãƒˆ (${locale})</span>\n\n`;
            
            const allKeys = [
                'html5Qrcode.codeParseError',
                'html5Qrcode.scannerPaused',
                'html5QrcodeScanner.scanningStatus',
                'html5QrcodeScanner.idleStatus',
                'html5QrcodeScanner.errorStatus',
                'html5QrcodeScanner.scanButtonStartScanningText',
                'html5QrcodeScanner.scanButtonStopScanningText',
                'html5QrcodeScanner.codeScannerTitle',
                'libraryInfo.poweredBy',
                'libraryInfo.reportIssues'
            ];
            
            allKeys.forEach(key => {
                const value = translate(key);
                result += `${key}:\n  â†’ ${value}\n\n`;
            });
            
            output.innerHTML = result;
        }

        function showEnglishJSON() {
            const output = document.getElementById('json-output');
            output.textContent = JSON.stringify(enTranslations, null, 2);
        }

        function showJapaneseJSON() {
            const output = document.getElementById('json-output');
            output.textContent = JSON.stringify(jaTranslations, null, 2);
        }

        function compareJSONs() {
            const output = document.getElementById('json-output');
            
            function getKeys(obj, prefix = '') {
                let keys = [];
                for (const key in obj) {
                    const fullKey = prefix ? `${prefix}.${key}` : key;
                    if (typeof obj[key] === 'object') {
                        keys = keys.concat(getKeys(obj[key], fullKey));
                    } else {
                        keys.push(fullKey);
                    }
                }
                return keys;
            }
            
            const enKeys = getKeys(enTranslations).sort();
            const jaKeys = getKeys(jaTranslations).sort();
            
            const missing = enKeys.filter(k => !jaKeys.includes(k));
            const extra = jaKeys.filter(k => !enKeys.includes(k));
            
            let result = 'æ§‹é€ æ¯”è¼ƒçµæœ:\n\n';
            result += `è‹±èªã‚­ãƒ¼æ•°: ${enKeys.length}\n`;
            result += `æ—¥æœ¬èªã‚­ãƒ¼æ•°: ${jaKeys.length}\n\n`;
            
            if (missing.length === 0 && extra.length === 0) {
                result += 'âœ… å®Œå…¨ä¸€è‡´ï¼ä¸¡æ–¹ã®JSONã¯åŒã˜æ§‹é€ ã§ã™ã€‚\n';
            } else {
                if (missing.length > 0) {
                    result += `âŒ æ—¥æœ¬èªã«æ¬ ã‘ã¦ã„ã‚‹ã‚­ãƒ¼:\n${missing.join('\n')}\n\n`;
                }
                if (extra.length > 0) {
                    result += `âš ï¸ æ—¥æœ¬èªã®ä½™åˆ†ãªã‚­ãƒ¼:\n${extra.join('\n')}\n`;
                }
            }
            
            output.textContent = result;
        }

        function validateTranslations() {
            const output = document.getElementById('validation-output');
            let result = '<span style="color: #4caf50">ğŸ” ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œä¸­...</span>\n\n';
            
            const requiredSections = ['html5Qrcode', 'html5QrcodeScanner', 'libraryInfo'];
            const errors = [];
            const warnings = [];
            
            // è‹±èªã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            for (const section of requiredSections) {
                if (!enTranslations[section]) {
                    errors.push(`è‹±èª: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ "${section}" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`);
                }
                if (!jaTranslations[section]) {
                    errors.push(`æ—¥æœ¬èª: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ "${section}" ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`);
                }
            }
            
            // ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã®ãƒã‚§ãƒƒã‚¯
            function checkPlaceholders(obj1, obj2, path = '') {
                for (const key in obj1) {
                    const fullPath = path ? `${path}.${key}` : key;
                    if (typeof obj1[key] === 'object') {
                        checkPlaceholders(obj1[key], obj2[key], fullPath);
                    } else if (typeof obj1[key] === 'string') {
                        const enMatches = (obj1[key].match(/\{(\w+)\}/g) || []).sort();
                        const jaMatches = (obj2[key].match(/\{(\w+)\}/g) || []).sort();
                        
                        if (enMatches.length !== jaMatches.length || 
                            enMatches.some((m, i) => m !== jaMatches[i])) {
                            warnings.push(
                                `ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ä¸ä¸€è‡´: ${fullPath}\n` +
                                `  è‹±èª: ${enMatches.join(', ') || 'ãªã—'}\n` +
                                `  æ—¥æœ¬èª: ${jaMatches.join(', ') || 'ãªã—'}`
                            );
                        }
                    }
                }
            }
            
            checkPlaceholders(enTranslations, jaTranslations);
            
            // çµæœè¡¨ç¤º
            if (errors.length === 0 && warnings.length === 0) {
                result += '<span style="color: #4caf50">âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æˆåŠŸï¼</span>\n\n';
                result += '- å…¨ã¦ã®å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã—ã¾ã™\n';
                result += '- ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒæ­£ã—ãå¯¾å¿œã—ã¦ã„ã¾ã™\n';
                result += '- ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ­£å¸¸ã§ã™\n';
            } else {
                if (errors.length > 0) {
                    result += '<span style="color: #f44336">âŒ ã‚¨ãƒ©ãƒ¼:</span>\n';
                    result += errors.join('\n') + '\n\n';
                }
                if (warnings.length > 0) {
                    result += '<span style="color: #ff9800">âš ï¸ è­¦å‘Š:</span>\n';
                    result += warnings.join('\n\n') + '\n';
                }
            }
            
            output.innerHTML = result;
        }

        // åˆæœŸåŒ–
        window.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… JSON i18n ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
            console.log('è‹±èªç¿»è¨³ã‚­ãƒ¼æ•°:', Object.keys(enTranslations).length);
            console.log('æ—¥æœ¬èªç¿»è¨³ã‚­ãƒ¼æ•°:', Object.keys(jaTranslations).length);
        });
    </script>
</body>
</html>
